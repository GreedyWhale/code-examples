#!/usr/bin/env node
var E=Object.create;var d=Object.defineProperty,T=Object.defineProperties,j=Object.getOwnPropertyDescriptor,v=Object.getOwnPropertyDescriptors,S=Object.getOwnPropertyNames,c=Object.getOwnPropertySymbols,k=Object.getPrototypeOf,u=Object.prototype.hasOwnProperty,D=Object.prototype.propertyIsEnumerable;var p=(e,t,r)=>t in e?d(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,l=(e,t)=>{for(var r in t||(t={}))u.call(t,r)&&p(e,r,t[r]);if(c)for(var r of c(t))D.call(t,r)&&p(e,r,t[r]);return e},f=(e,t)=>T(e,v(t));var I=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of S(t))!u.call(e,s)&&s!==r&&d(e,s,{get:()=>t[s],enumerable:!(n=j(t,s))||n.enumerable});return e};var o=(e,t,r)=>(r=e!=null?E(k(e)):{},I(t||!e||!e.__esModule?d(r,"default",{value:e,enumerable:!0}):r,e));var a=require("commander");var g="1.0.0";var w=o(require("inquirer")),x=o(require("ora"));var b=o(require("os")),y=o(require("path")),h=o(require("fs/promises"));var P=y.default.join(process.env.HOME||b.default.homedir(),".todo_list");var m=async(e,t=1)=>{let r=new Date().toLocaleDateString(),n=new Array(t).fill(f(l({},e),{done:!1,updatedAt:r,createdAt:r,completedAt:""}));await h.default.writeFile(P,JSON.stringify(n))};var i=(0,x.default)();i.color="blue";var A=async(e,t,r)=>{i.info("\u6DFB\u52A0\u5F85\u529E\u4E8B\u9879");try{if(e){i.start("\u6DFB\u52A0\u4E2D..."),await m({name:e,description:t},r!=null&&r.multiple?parseInt(r.multiple,10):void 0),i.succeed("\u6DFB\u52A0\u6210\u529F!");return}await w.default.prompt([{type:"input",name:"name",message:"\u8BF7\u8F93\u5165\u5F85\u529E\u4E8B\u9879\u7684\u540D\u5B57\uFF08\u5FC5\u4F20\uFF09\uFF1A",validate:n=>n?!0:"\u8BF7\u8F93\u5165\u5F85\u529E\u4E8B\u9879\u7684\u540D\u5B57"},{type:"input",name:"description",message:"\u8BF7\u8F93\u5165\u5F85\u529E\u4E8B\u9879\u7684\u63CF\u8FF0\uFF08\u53EF\u9009\uFF09\uFF1A",default:""},{type:"number",name:"number",message:"\u8BF7\u8F93\u5165\u6DFB\u52A0\u7684\u6570\u91CF\uFF08\u53EF\u9009\uFF09\uFF1A",default:1}]).then(n=>(i.start("\u6DFB\u52A0\u4E2D..."),n)).then(n=>m({name:n.name,description:n.description},n.number)).then(()=>i.succeed("\u6DFB\u52A0\u6210\u529F!"))}catch(n){i.fail(`\u6DFB\u52A0\u5931\u8D25: ${n.message}`)}};a.program.name("todo-list").description("\u4E00\u4E2A\u7B80\u5355\u7684\u5F85\u529E\u4E8B\u9879\u547D\u4EE4\u884C\u5DE5\u5177").version(g);a.program.command("add").description("\u6DFB\u52A0\u4E00\u4E2A\u5F85\u529E\u4E8B\u9879").argument("[name]","\u5F85\u529E\u4E8B\u9879\u7684\u540D\u79F0").argument("[description]","\u5F85\u529E\u4E8B\u9879\u7684\u7B80\u77ED\u63CF\u8FF0").option("-m, --multiple <number>","\u6DFB\u52A0\u591A\u4E2A").action(A);a.program.parse();
